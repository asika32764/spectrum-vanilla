{"version":3,"file":"spectrum.es.min.js","mappings":"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","sources":["webpack://spectrum-vanilla/webpack/bootstrap","webpack://spectrum-vanilla/webpack/runtime/define property getters","webpack://spectrum-vanilla/webpack/runtime/hasOwnProperty shorthand","webpack://spectrum-vanilla/./node_modules/tinycolor2/esm/tinycolor.js","webpack://spectrum-vanilla/./src/dom.ts","webpack://spectrum-vanilla/./src/utils.ts","webpack://spectrum-vanilla/./src/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// This file is autogenerated. It's used to publish ESM to npm.\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\nconst trimLeft = /^\\s+/;\nconst trimRight = /\\s+$/;\n\nfunction tinycolor(color, opts) {\n  color = color ? color : \"\";\n  opts = opts || {};\n\n  // If input is already a tinycolor, return itself\n  if (color instanceof tinycolor) {\n    return color;\n  }\n  // If we are called as a function, call using new instead\n  if (!(this instanceof tinycolor)) {\n    return new tinycolor(color, opts);\n  }\n\n  var rgb = inputToRGB(color);\n  (this._originalInput = color),\n    (this._r = rgb.r),\n    (this._g = rgb.g),\n    (this._b = rgb.b),\n    (this._a = rgb.a),\n    (this._roundA = Math.round(100 * this._a) / 100),\n    (this._format = opts.format || rgb.format);\n  this._gradientType = opts.gradientType;\n\n  // Don't let the range of [0,255] come back in [0,1].\n  // Potentially lose a little bit of precision here, but will fix issues where\n  // .5 gets interpreted as half of the total, instead of half of 1\n  // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n  if (this._r < 1) this._r = Math.round(this._r);\n  if (this._g < 1) this._g = Math.round(this._g);\n  if (this._b < 1) this._b = Math.round(this._b);\n\n  this._ok = rgb.ok;\n}\n\ntinycolor.prototype = {\n  isDark: function () {\n    return this.getBrightness() < 128;\n  },\n  isLight: function () {\n    return !this.isDark();\n  },\n  isValid: function () {\n    return this._ok;\n  },\n  getOriginalInput: function () {\n    return this._originalInput;\n  },\n  getFormat: function () {\n    return this._format;\n  },\n  getAlpha: function () {\n    return this._a;\n  },\n  getBrightness: function () {\n    //http://www.w3.org/TR/AERT#color-contrast\n    var rgb = this.toRgb();\n    return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n  },\n  getLuminance: function () {\n    //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    var rgb = this.toRgb();\n    var RsRGB, GsRGB, BsRGB, R, G, B;\n    RsRGB = rgb.r / 255;\n    GsRGB = rgb.g / 255;\n    BsRGB = rgb.b / 255;\n\n    if (RsRGB <= 0.03928) R = RsRGB / 12.92;\n    else R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n    if (GsRGB <= 0.03928) G = GsRGB / 12.92;\n    else G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n    if (BsRGB <= 0.03928) B = BsRGB / 12.92;\n    else B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n  },\n  setAlpha: function (value) {\n    this._a = boundAlpha(value);\n    this._roundA = Math.round(100 * this._a) / 100;\n    return this;\n  },\n  toHsv: function () {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n  },\n  toHsvString: function () {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    var h = Math.round(hsv.h * 360),\n      s = Math.round(hsv.s * 100),\n      v = Math.round(hsv.v * 100);\n    return this._a == 1\n      ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\"\n      : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this._roundA + \")\";\n  },\n  toHsl: function () {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n  },\n  toHslString: function () {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    var h = Math.round(hsl.h * 360),\n      s = Math.round(hsl.s * 100),\n      l = Math.round(hsl.l * 100);\n    return this._a == 1\n      ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\"\n      : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this._roundA + \")\";\n  },\n  toHex: function (allow3Char) {\n    return rgbToHex(this._r, this._g, this._b, allow3Char);\n  },\n  toHexString: function (allow3Char) {\n    return \"#\" + this.toHex(allow3Char);\n  },\n  toHex8: function (allow4Char) {\n    return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n  },\n  toHex8String: function (allow4Char) {\n    return \"#\" + this.toHex8(allow4Char);\n  },\n  toRgb: function () {\n    return {\n      r: Math.round(this._r),\n      g: Math.round(this._g),\n      b: Math.round(this._b),\n      a: this._a,\n    };\n  },\n  toRgbString: function () {\n    return this._a == 1\n      ? \"rgb(\" +\n          Math.round(this._r) +\n          \", \" +\n          Math.round(this._g) +\n          \", \" +\n          Math.round(this._b) +\n          \")\"\n      : \"rgba(\" +\n          Math.round(this._r) +\n          \", \" +\n          Math.round(this._g) +\n          \", \" +\n          Math.round(this._b) +\n          \", \" +\n          this._roundA +\n          \")\";\n  },\n  toPercentageRgb: function () {\n    return {\n      r: Math.round(bound01(this._r, 255) * 100) + \"%\",\n      g: Math.round(bound01(this._g, 255) * 100) + \"%\",\n      b: Math.round(bound01(this._b, 255) * 100) + \"%\",\n      a: this._a,\n    };\n  },\n  toPercentageRgbString: function () {\n    return this._a == 1\n      ? \"rgb(\" +\n          Math.round(bound01(this._r, 255) * 100) +\n          \"%, \" +\n          Math.round(bound01(this._g, 255) * 100) +\n          \"%, \" +\n          Math.round(bound01(this._b, 255) * 100) +\n          \"%)\"\n      : \"rgba(\" +\n          Math.round(bound01(this._r, 255) * 100) +\n          \"%, \" +\n          Math.round(bound01(this._g, 255) * 100) +\n          \"%, \" +\n          Math.round(bound01(this._b, 255) * 100) +\n          \"%, \" +\n          this._roundA +\n          \")\";\n  },\n  toName: function () {\n    if (this._a === 0) {\n      return \"transparent\";\n    }\n\n    if (this._a < 1) {\n      return false;\n    }\n\n    return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n  },\n  toFilter: function (secondColor) {\n    var hex8String = \"#\" + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n    var secondHex8String = hex8String;\n    var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n    if (secondColor) {\n      var s = tinycolor(secondColor);\n      secondHex8String = \"#\" + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n    }\n\n    return (\n      \"progid:DXImageTransform.Microsoft.gradient(\" +\n      gradientType +\n      \"startColorstr=\" +\n      hex8String +\n      \",endColorstr=\" +\n      secondHex8String +\n      \")\"\n    );\n  },\n  toString: function (format) {\n    var formatSet = !!format;\n    format = format || this._format;\n\n    var formattedString = false;\n    var hasAlpha = this._a < 1 && this._a >= 0;\n    var needsAlphaFormat =\n      !formatSet &&\n      hasAlpha &&\n      (format === \"hex\" ||\n        format === \"hex6\" ||\n        format === \"hex3\" ||\n        format === \"hex4\" ||\n        format === \"hex8\" ||\n        format === \"name\");\n\n    if (needsAlphaFormat) {\n      // Special case for \"transparent\", all other non-alpha formats\n      // will return rgba when there is transparency.\n      if (format === \"name\" && this._a === 0) {\n        return this.toName();\n      }\n      return this.toRgbString();\n    }\n    if (format === \"rgb\") {\n      formattedString = this.toRgbString();\n    }\n    if (format === \"prgb\") {\n      formattedString = this.toPercentageRgbString();\n    }\n    if (format === \"hex\" || format === \"hex6\") {\n      formattedString = this.toHexString();\n    }\n    if (format === \"hex3\") {\n      formattedString = this.toHexString(true);\n    }\n    if (format === \"hex4\") {\n      formattedString = this.toHex8String(true);\n    }\n    if (format === \"hex8\") {\n      formattedString = this.toHex8String();\n    }\n    if (format === \"name\") {\n      formattedString = this.toName();\n    }\n    if (format === \"hsl\") {\n      formattedString = this.toHslString();\n    }\n    if (format === \"hsv\") {\n      formattedString = this.toHsvString();\n    }\n\n    return formattedString || this.toHexString();\n  },\n  clone: function () {\n    return tinycolor(this.toString());\n  },\n\n  _applyModification: function (fn, args) {\n    var color = fn.apply(null, [this].concat([].slice.call(args)));\n    this._r = color._r;\n    this._g = color._g;\n    this._b = color._b;\n    this.setAlpha(color._a);\n    return this;\n  },\n  lighten: function () {\n    return this._applyModification(lighten, arguments);\n  },\n  brighten: function () {\n    return this._applyModification(brighten, arguments);\n  },\n  darken: function () {\n    return this._applyModification(darken, arguments);\n  },\n  desaturate: function () {\n    return this._applyModification(desaturate, arguments);\n  },\n  saturate: function () {\n    return this._applyModification(saturate, arguments);\n  },\n  greyscale: function () {\n    return this._applyModification(greyscale, arguments);\n  },\n  spin: function () {\n    return this._applyModification(spin, arguments);\n  },\n\n  _applyCombination: function (fn, args) {\n    return fn.apply(null, [this].concat([].slice.call(args)));\n  },\n  analogous: function () {\n    return this._applyCombination(analogous, arguments);\n  },\n  complement: function () {\n    return this._applyCombination(complement, arguments);\n  },\n  monochromatic: function () {\n    return this._applyCombination(monochromatic, arguments);\n  },\n  splitcomplement: function () {\n    return this._applyCombination(splitcomplement, arguments);\n  },\n  // Disabled until https://github.com/bgrins/TinyColor/issues/254\n  // polyad: function (number) {\n  //   return this._applyCombination(polyad, [number]);\n  // },\n  triad: function () {\n    return this._applyCombination(polyad, [3]);\n  },\n  tetrad: function () {\n    return this._applyCombination(polyad, [4]);\n  },\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function (color, opts) {\n  if (typeof color == \"object\") {\n    var newColor = {};\n    for (var i in color) {\n      if (color.hasOwnProperty(i)) {\n        if (i === \"a\") {\n          newColor[i] = color[i];\n        } else {\n          newColor[i] = convertToPercentage(color[i]);\n        }\n      }\n    }\n    color = newColor;\n  }\n\n  return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n  var rgb = { r: 0, g: 0, b: 0 };\n  var a = 1;\n  var s = null;\n  var v = null;\n  var l = null;\n  var ok = false;\n  var format = false;\n\n  if (typeof color == \"string\") {\n    color = stringInputToObject(color);\n  }\n\n  if (typeof color == \"object\") {\n    if (\n      isValidCSSUnit(color.r) &&\n      isValidCSSUnit(color.g) &&\n      isValidCSSUnit(color.b)\n    ) {\n      rgb = rgbToRgb(color.r, color.g, color.b);\n      ok = true;\n      format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n    } else if (\n      isValidCSSUnit(color.h) &&\n      isValidCSSUnit(color.s) &&\n      isValidCSSUnit(color.v)\n    ) {\n      s = convertToPercentage(color.s);\n      v = convertToPercentage(color.v);\n      rgb = hsvToRgb(color.h, s, v);\n      ok = true;\n      format = \"hsv\";\n    } else if (\n      isValidCSSUnit(color.h) &&\n      isValidCSSUnit(color.s) &&\n      isValidCSSUnit(color.l)\n    ) {\n      s = convertToPercentage(color.s);\n      l = convertToPercentage(color.l);\n      rgb = hslToRgb(color.h, s, l);\n      ok = true;\n      format = \"hsl\";\n    }\n\n    if (color.hasOwnProperty(\"a\")) {\n      a = color.a;\n    }\n  }\n\n  a = boundAlpha(a);\n\n  return {\n    ok: ok,\n    format: color.format || format,\n    r: Math.min(255, Math.max(rgb.r, 0)),\n    g: Math.min(255, Math.max(rgb.g, 0)),\n    b: Math.min(255, Math.max(rgb.b, 0)),\n    a: a,\n  };\n}\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b) {\n  return {\n    r: bound01(r, 255) * 255,\n    g: bound01(g, 255) * 255,\n    b: bound01(b, 255) * 255,\n  };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n\n    h /= 6;\n  }\n\n  return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n  var r, g, b;\n\n  h = bound01(h, 360);\n  s = bound01(s, 100);\n  l = bound01(l, 100);\n\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    v = max;\n\n  var d = max - min;\n  s = max === 0 ? 0 : d / max;\n\n  if (max == min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hsvToRgb(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n\n  var i = Math.floor(h),\n    f = h - i,\n    p = v * (1 - s),\n    q = v * (1 - f * s),\n    t = v * (1 - (1 - f) * s),\n    mod = i % 6,\n    r = [v, q, p, p, t, v][mod],\n    g = [t, v, v, q, p, p][mod],\n    b = [p, p, t, v, v, q][mod];\n\n  return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n  var hex = [\n    pad2(Math.round(r).toString(16)),\n    pad2(Math.round(g).toString(16)),\n    pad2(Math.round(b).toString(16)),\n  ];\n\n  // Return a 3 character hex if possible\n  if (\n    allow3Char &&\n    hex[0].charAt(0) == hex[0].charAt(1) &&\n    hex[1].charAt(0) == hex[1].charAt(1) &&\n    hex[2].charAt(0) == hex[2].charAt(1)\n  ) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n  }\n\n  return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n  var hex = [\n    pad2(Math.round(r).toString(16)),\n    pad2(Math.round(g).toString(16)),\n    pad2(Math.round(b).toString(16)),\n    pad2(convertDecimalToHex(a)),\n  ];\n\n  // Return a 4 character hex if possible\n  if (\n    allow4Char &&\n    hex[0].charAt(0) == hex[0].charAt(1) &&\n    hex[1].charAt(0) == hex[1].charAt(1) &&\n    hex[2].charAt(0) == hex[2].charAt(1) &&\n    hex[3].charAt(0) == hex[3].charAt(1)\n  ) {\n    return (\n      hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0)\n    );\n  }\n\n  return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n  var hex = [\n    pad2(convertDecimalToHex(a)),\n    pad2(Math.round(r).toString(16)),\n    pad2(Math.round(g).toString(16)),\n    pad2(Math.round(b).toString(16)),\n  ];\n\n  return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n  if (!color1 || !color2) return false;\n  return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function () {\n  return tinycolor.fromRatio({\n    r: Math.random(),\n    g: Math.random(),\n    b: Math.random(),\n  });\n};\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s -= amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s += amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n  return tinycolor(color).desaturate(100);\n}\n\nfunction lighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l += amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var rgb = tinycolor(color).toRgb();\n  rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n  rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n  rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n  return tinycolor(rgb);\n}\n\nfunction darken(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l -= amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n  var hsl = tinycolor(color).toHsl();\n  var hue = (hsl.h + amount) % 360;\n  hsl.h = hue < 0 ? 360 + hue : hue;\n  return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n  var hsl = tinycolor(color).toHsl();\n  hsl.h = (hsl.h + 180) % 360;\n  return tinycolor(hsl);\n}\n\nfunction polyad(color, number) {\n  if (isNaN(number) || number <= 0) {\n    throw new Error(\"Argument to polyad must be a positive number\");\n  }\n  var hsl = tinycolor(color).toHsl();\n  var result = [tinycolor(color)];\n  var step = 360 / number;\n  for (var i = 1; i < number; i++) {\n    result.push(tinycolor({ h: (hsl.h + i * step) % 360, s: hsl.s, l: hsl.l }));\n  }\n\n  return result;\n}\n\nfunction splitcomplement(color) {\n  var hsl = tinycolor(color).toHsl();\n  var h = hsl.h;\n  return [\n    tinycolor(color),\n    tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n    tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n  ];\n}\n\nfunction analogous(color, results, slices) {\n  results = results || 6;\n  slices = slices || 30;\n\n  var hsl = tinycolor(color).toHsl();\n  var part = 360 / slices;\n  var ret = [tinycolor(color)];\n\n  for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results; ) {\n    hsl.h = (hsl.h + part) % 360;\n    ret.push(tinycolor(hsl));\n  }\n  return ret;\n}\n\nfunction monochromatic(color, results) {\n  results = results || 6;\n  var hsv = tinycolor(color).toHsv();\n  var h = hsv.h,\n    s = hsv.s,\n    v = hsv.v;\n  var ret = [];\n  var modification = 1 / results;\n\n  while (results--) {\n    ret.push(tinycolor({ h: h, s: s, v: v }));\n    v = (v + modification) % 1;\n  }\n\n  return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function (color1, color2, amount) {\n  amount = amount === 0 ? 0 : amount || 50;\n\n  var rgb1 = tinycolor(color1).toRgb();\n  var rgb2 = tinycolor(color2).toRgb();\n\n  var p = amount / 100;\n\n  var rgba = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b,\n    a: (rgb2.a - rgb1.a) * p + rgb1.a,\n  };\n\n  return tinycolor(rgba);\n};\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function (color1, color2) {\n  var c1 = tinycolor(color1);\n  var c2 = tinycolor(color2);\n  return (\n    (Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) /\n    (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05)\n  );\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function (color1, color2, wcag2) {\n  var readability = tinycolor.readability(color1, color2);\n  var wcag2Parms, out;\n\n  out = false;\n\n  wcag2Parms = validateWCAG2Parms(wcag2);\n  switch (wcag2Parms.level + wcag2Parms.size) {\n    case \"AAsmall\":\n    case \"AAAlarge\":\n      out = readability >= 4.5;\n      break;\n    case \"AAlarge\":\n      out = readability >= 3;\n      break;\n    case \"AAAsmall\":\n      out = readability >= 7;\n      break;\n  }\n  return out;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function (baseColor, colorList, args) {\n  var bestColor = null;\n  var bestScore = 0;\n  var readability;\n  var includeFallbackColors, level, size;\n  args = args || {};\n  includeFallbackColors = args.includeFallbackColors;\n  level = args.level;\n  size = args.size;\n\n  for (var i = 0; i < colorList.length; i++) {\n    readability = tinycolor.readability(baseColor, colorList[i]);\n    if (readability > bestScore) {\n      bestScore = readability;\n      bestColor = tinycolor(colorList[i]);\n    }\n  }\n\n  if (\n    tinycolor.isReadable(baseColor, bestColor, {\n      level: level,\n      size: size,\n    }) ||\n    !includeFallbackColors\n  ) {\n    return bestColor;\n  } else {\n    args.includeFallbackColors = false;\n    return tinycolor.mostReadable(baseColor, [\"#fff\", \"#000\"], args);\n  }\n};\n\n// Big List of Colors\n// ------------------\n// <https://www.w3.org/TR/css-color-4/#named-colors>\nvar names = (tinycolor.names = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"0ff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"00f\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  burntsienna: \"ea7e5d\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"0ff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"f0f\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"663399\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\",\n});\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = (tinycolor.hexNames = flip(names));\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n  var flipped = {};\n  for (var i in o) {\n    if (o.hasOwnProperty(i)) {\n      flipped[o[i]] = i;\n    }\n  }\n  return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n  a = parseFloat(a);\n\n  if (isNaN(a) || a < 0 || a > 1) {\n    a = 1;\n  }\n\n  return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n  if (isOnePointZero(n)) n = \"100%\";\n\n  var processPercent = isPercentage(n);\n  n = Math.min(max, Math.max(0, parseFloat(n)));\n\n  // Automatically convert percentage into number\n  if (processPercent) {\n    n = parseInt(n * max, 10) / 100;\n  }\n\n  // Handle floating point rounding errors\n  if (Math.abs(n - max) < 0.000001) {\n    return 1;\n  }\n\n  // Convert into [0, 1] range if it isn't already\n  return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n  return Math.min(1, Math.max(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n  return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n  return typeof n == \"string\" && n.indexOf(\".\") != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n  return typeof n === \"string\" && n.indexOf(\"%\") != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n  return c.length == 1 ? \"0\" + c : \"\" + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n  if (n <= 1) {\n    n = n * 100 + \"%\";\n  }\n\n  return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n  return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n  return parseIntFromHex(h) / 255;\n}\n\nvar matchers = (function () {\n  // <http://www.w3.org/TR/css3-values/#integers>\n  var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n  // <http://www.w3.org/TR/css3-values/#number-value>\n  var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n  // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n  var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n  // Actual matching.\n  // Parentheses and commas are optional, but not required.\n  // Whitespace can take the place of commas or opening paren\n  var PERMISSIVE_MATCH3 =\n    \"[\\\\s|\\\\(]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")\\\\s*\\\\)?\";\n  var PERMISSIVE_MATCH4 =\n    \"[\\\\s|\\\\(]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")\\\\s*\\\\)?\";\n\n  return {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n    rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n    hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n    hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n    hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n    hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n  };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n  return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n  color = color.replace(trimLeft, \"\").replace(trimRight, \"\").toLowerCase();\n  var named = false;\n  if (names[color]) {\n    color = names[color];\n    named = true;\n  } else if (color == \"transparent\") {\n    return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n  }\n\n  // Try to match string input using regular expressions.\n  // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n  // Just return an object and let the conversion functions handle that.\n  // This way the result will be the same whether the tinycolor is initialized with string or object.\n  var match;\n  if ((match = matchers.rgb.exec(color))) {\n    return { r: match[1], g: match[2], b: match[3] };\n  }\n  if ((match = matchers.rgba.exec(color))) {\n    return { r: match[1], g: match[2], b: match[3], a: match[4] };\n  }\n  if ((match = matchers.hsl.exec(color))) {\n    return { h: match[1], s: match[2], l: match[3] };\n  }\n  if ((match = matchers.hsla.exec(color))) {\n    return { h: match[1], s: match[2], l: match[3], a: match[4] };\n  }\n  if ((match = matchers.hsv.exec(color))) {\n    return { h: match[1], s: match[2], v: match[3] };\n  }\n  if ((match = matchers.hsva.exec(color))) {\n    return { h: match[1], s: match[2], v: match[3], a: match[4] };\n  }\n  if ((match = matchers.hex8.exec(color))) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      a: convertHexToDecimal(match[4]),\n      format: named ? \"name\" : \"hex8\",\n    };\n  }\n  if ((match = matchers.hex6.exec(color))) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      format: named ? \"name\" : \"hex\",\n    };\n  }\n  if ((match = matchers.hex4.exec(color))) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      a: convertHexToDecimal(match[4] + \"\" + match[4]),\n      format: named ? \"name\" : \"hex8\",\n    };\n  }\n  if ((match = matchers.hex3.exec(color))) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      format: named ? \"name\" : \"hex\",\n    };\n  }\n\n  return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n  // return valid WCAG2 parms for isReadable.\n  // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n  var level, size;\n  parms = parms || { level: \"AA\", size: \"small\" };\n  level = (parms.level || \"AA\").toUpperCase();\n  size = (parms.size || \"small\").toLowerCase();\n  if (level !== \"AA\" && level !== \"AAA\") {\n    level = \"AA\";\n  }\n  if (size !== \"small\" && size !== \"large\") {\n    size = \"small\";\n  }\n  return { level: level, size: size };\n}\n\nexport { tinycolor as default };\n","/**\r\n * Part of spectrum-vanilla project.\r\n *\r\n * @copyright  Copyright (C) 2023 __ORGANIZATION__.\r\n * @license    __LICENSE__\r\n */\r\n\r\nexport function insertAfter<T extends Element>(existingNode: T, newNode: Element): T {\r\n  existingNode.parentNode?.insertBefore(newNode, existingNode.nextSibling);\r\n  return existingNode;\r\n}\r\n\r\nexport function insertBefore<T extends Element>(existingNode: T, newNode: Element): T {\r\n  existingNode.parentNode?.insertBefore(newNode, existingNode);\r\n  return existingNode;\r\n}\r\n\r\nexport function wrap<T extends Element>(ele: T, wrapper: Element): T {\r\n  ele.replaceWith(wrapper);\r\n  wrapper.appendChild(ele);\r\n  return ele;\r\n}\r\n\r\nexport function outerWidthWithMargin(ele: HTMLElement) {\r\n  const style = window.getComputedStyle(ele);\r\n\r\n  return (\r\n    ele.getBoundingClientRect().width +\r\n    parseFloat(style.marginLeft) +\r\n    parseFloat(style.marginRight)\r\n  );\r\n}\r\n","/**\r\n * Part of spectrum-vanilla project.\r\n *\r\n * @copyright  Copyright (C) 2023 __ORGANIZATION__.\r\n * @license    __LICENSE__\r\n */\r\n\r\nexport function html(html: string, doc = document) {\r\n  const div = doc.createElement('div');\r\n  div.innerHTML = html;\r\n  return div.children[0];\r\n}\r\n\r\nexport function camelize(str: string): string {\r\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (word, index) {\r\n    return index === 0 ? word.toLowerCase() : word.toUpperCase();\r\n  }).replace(/\\s+/g, '');\r\n}\r\n\r\nexport function throttle(func: Function, wait: number, debounce: Function | undefined = undefined) {\r\n  let timeout: any;\r\n  return function () {\r\n    // @ts-ignore\r\n    const context = this, args = arguments;\r\n    const throttler = function () {\r\n      timeout = null;\r\n      func.apply(context, args);\r\n    };\r\n    if (debounce) clearTimeout(timeout);\r\n    if (debounce || !timeout) {\r\n      timeout = setTimeout(throttler, wait);\r\n    }\r\n  };\r\n}\r\n\r\nexport function addClass(ele: HTMLElement, className: string) {\r\n  const classes = className.split(' ').filter((c) => c !== '');\r\n\r\n  if (className !== '' && classes.length) {\r\n    ele.classList.add(...classes);\r\n  }\r\n  return ele;\r\n}\r\n\r\nexport function removeClass(ele: HTMLElement, className: string) {\r\n  const classes = className.split(' ').filter((c) => c !== '');\r\n  if (className !== '' && classes.length) {\r\n    ele.classList.remove(...classes);\r\n  }\r\n  return ele;\r\n}\r\n\r\nexport function toggleClass(\r\n  ele: HTMLElement,\r\n  className: string,\r\n  state: boolean | undefined = undefined\r\n) {\r\n  if (state != undefined) {\r\n    ele.classList.toggle(className, state);\r\n  } else if (state === true) {\r\n    addClass(ele, className);\r\n  } else {\r\n    removeClass(ele, className);\r\n  }\r\n  return ele;\r\n}\r\n\r\nexport function emit(ele: EventTarget, eventName: string, detail: any = {}) {\r\n  const event = new CustomEvent(\r\n    eventName,\r\n    {\r\n      cancelable: true,\r\n      bubbles: true,\r\n      detail,\r\n    },\r\n  );\r\n\r\n  ele.dispatchEvent(event);\r\n\r\n  return event;\r\n}\r\n\r\nexport function eventDelegate(\r\n  ele: HTMLElement,\r\n  eventName: string,\r\n  selector: string,\r\n  listener: Function,\r\n  payload: { [name: string]: any } = {},\r\n) {\r\n  ele.addEventListener(eventName, (e) => {\r\n    if ((e.target as Element).closest(selector)) {\r\n      // @ts-ignore\r\n      e.data = Object.assign({}, e.data || {}, payload);\r\n\r\n      listener(e);\r\n    }\r\n  }, payload);\r\n}\r\n\r\nexport type OffsetCSSOptions = { top?: number, bottom?: number, left?: number, right?: number, using?: Function };\r\n\r\nexport function setElementOffset(\r\n  elem: HTMLElement,\r\n  options: OffsetCSSOptions,\r\n) {\r\n  let curPosition;\r\n  let curTop;\r\n  let curLeft;\r\n  let calculatePosition;\r\n  let position = elem.style.position;\r\n  let curElem = elem;\r\n  let props: OffsetCSSOptions = {};\r\n\r\n  // Set position first, in-case top/left are set even on static elem\r\n  if (position === \"static\") {\r\n    elem.style.position = \"relative\";\r\n  }\r\n\r\n  let curOffset = getElementOffset(curElem);\r\n  let curCSSTop = elem.style.top;\r\n  let curCSSLeft = elem.style.left;\r\n  calculatePosition = (position === \"absolute\" || position === \"fixed\") &&\r\n    (curCSSTop + curCSSLeft).indexOf(\"auto\") > -1;\r\n\r\n  // Need to be able to calculate position if either\r\n  // top or left is auto and position is either absolute or fixed\r\n  if (calculatePosition) {\r\n    curPosition = getElementPosition(curElem);\r\n    curTop = curPosition.top;\r\n    curLeft = curPosition.left;\r\n\r\n  } else {\r\n    curTop = parseFloat(curCSSTop) || 0;\r\n    curLeft = parseFloat(curCSSLeft) || 0;\r\n  }\r\n\r\n  // if (typeof options === 'function') {\r\n  //   options = options.call(elem, Object.assign({}, curOffset)) as OffsetCSSOptions;\r\n  // }\r\n\r\n  if (options.top != null) {\r\n    props.top = (options.top - curOffset.top) + curTop;\r\n  }\r\n  if (options.left != null) {\r\n    props.left = (options.left - curOffset.left) + curLeft;\r\n  }\r\n  \r\n  if (\"using\" in options) {\r\n    options.using.call(elem, props);\r\n  } else {\r\n    for (const k in props) {\r\n      curElem.style[k] = props[k] + 'px';\r\n    }\r\n  }\r\n}\r\n\r\nexport function getElementOffset(el: HTMLElement) {\r\n  const box = el.getBoundingClientRect();\r\n  const docElem = document.documentElement;\r\n  return {\r\n    top: box.top + window.pageYOffset - docElem.clientTop,\r\n    left: box.left + window.pageXOffset - docElem.clientLeft,\r\n  };\r\n}\r\n\r\nexport function getElementPosition(el: HTMLElement) {\r\n  const { top, left } = el.getBoundingClientRect();\r\n  const { marginTop, marginLeft } = getComputedStyle(el);\r\n  return {\r\n    top: top - parseInt(marginTop, 10),\r\n    left: left - parseInt(marginLeft, 10),\r\n  };\r\n}\r\n","import tinycolor, { ColorInput, Instance } from 'tinycolor2';\r\nimport { insertAfter, outerWidthWithMargin, wrap } from './dom';\r\nimport { ColorFormat, Options, SpLang, SpListener } from './types';\r\nimport {\r\n  addClass,\r\n  emit,\r\n  eventDelegate,\r\n  getElementOffset,\r\n  html,\r\n  OffsetCSSOptions,\r\n  removeClass,\r\n  setElementOffset,\r\n  throttle,\r\n  toggleClass,\r\n} from './utils';\r\n\r\nconst defaultOpts: Partial<Options> = {\r\n\r\n    // Callbacks\r\n    beforeShow: noop,\r\n    move: noop,\r\n    change: noop,\r\n    show: noop,\r\n    hide: noop,\r\n\r\n    // Options\r\n    color: '',\r\n    type: 'component', // text, color, component or flat\r\n    showInput: false,\r\n    allowEmpty: true,\r\n    showButtons: true,\r\n    clickoutFiresChange: true,\r\n    showInitial: false,\r\n    showPalette: true,\r\n    showPaletteOnly: false,\r\n    hideAfterPaletteSelect: false,\r\n    togglePaletteOnly: false,\r\n    showSelectionPalette: true,\r\n    localStorageKey: '',\r\n    appendTo: 'body',\r\n    maxSelectionSize: 8,\r\n    locale: 'en',\r\n    cancelText: 'cancel',\r\n    chooseText: 'choose',\r\n    togglePaletteMoreText: 'more',\r\n    togglePaletteLessText: 'less',\r\n    clearText: 'Clear Color Selection',\r\n    noColorSelectedText: 'No Color Selected',\r\n    preferredFormat: 'name',\r\n    containerClassName: '',\r\n    replacerClassName: '',\r\n    showAlpha: true,\r\n    theme: 'sp-light',\r\n    palette: [\r\n      ['#000000', '#444444', '#5b5b5b', '#999999', '#bcbcbc', '#eeeeee', '#f3f6f4', '#ffffff'],\r\n      ['#f44336', '#744700', '#ce7e00', '#8fce00', '#2986cc', '#16537e', '#6a329f', '#c90076'],\r\n      ['#f4cccc', '#fce5cd', '#fff2cc', '#d9ead3', '#d0e0e3', '#cfe2f3', '#d9d2e9', '#ead1dc'],\r\n      ['#ea9999', '#f9cb9c', '#ffe599', '#b6d7a8', '#a2c4c9', '#9fc5e8', '#b4a7d6', '#d5a6bd'],\r\n      ['#e06666', '#f6b26b', '#ffd966', '#93c47d', '#76a5af', '#6fa8dc', '#8e7cc3', '#c27ba0'],\r\n      ['#cc0000', '#e69138', '#f1c232', '#6aa84f', '#45818e', '#3d85c6', '#674ea7', '#a64d79'],\r\n      ['#990000', '#b45f06', '#bf9000', '#38761d', '#134f5c', '#0b5394', '#351c75', '#741b47'],\r\n      ['#660000', '#783f04', '#7f6000', '#274e13', '#0c343d', '#073763', '#20124d', '#4c1130'],\r\n    ],\r\n    selectionPalette: [] as string[],\r\n    disabled: false,\r\n    offset: null,\r\n  },\r\n  spectrums: any[] = [],\r\n  IE = !!/msie/i.exec(window.navigator.userAgent),\r\n  rgbaSupport = (() => {\r\n    function contains(str: string, substr: string) {\r\n      return !!~('' + str).indexOf(substr);\r\n    }\r\n\r\n    const elem = document.createElement('div');\r\n    const style = elem.style;\r\n    style.cssText = 'background-color:rgba(0,0,0,.5)';\r\n    return contains(style.backgroundColor, 'rgba') || contains(style.backgroundColor, 'hsla');\r\n  })(),\r\n  replaceInput = html(\r\n    [\r\n      '<div class=\\'sp-replacer\\'>',\r\n      '<div class=\\'sp-preview\\'><div class=\\'sp-preview-inner\\'></div></div>',\r\n      '<div class=\\'sp-dd\\'>&#9660;</div>',\r\n      '</div>',\r\n    ].join(''),\r\n  ) as HTMLElement,\r\n  markup = (function () {\r\n\r\n    // IE does not support gradients with multiple stops, so we need to simulate\r\n    //  that for the rainbow slider with 8 divs that each have a single gradient\r\n    let gradientFix = '';\r\n    if (IE) {\r\n      for (let i = 1; i <= 6; i++) {\r\n        gradientFix += '<div class=\\'sp-' + i + '\\'></div>';\r\n      }\r\n    }\r\n\r\n    return [\r\n      '<div class=\\'sp-container sp-hidden\\'>',\r\n      '<div class=\\'sp-palette-container\\'>',\r\n      '<div class=\\'sp-palette sp-thumb sp-cf\\'></div>',\r\n      '<div class=\\'sp-palette-button-container sp-cf\\'>',\r\n      '<button type=\\'button\\' class=\\'sp-palette-toggle\\'></button>',\r\n      '</div>',\r\n      '</div>',\r\n      '<div class=\\'sp-picker-container\\'>',\r\n      '<div class=\\'sp-top sp-cf\\'>',\r\n      '<div class=\\'sp-fill\\'></div>',\r\n      '<div class=\\'sp-top-inner\\'>',\r\n      '<div class=\\'sp-color\\'>',\r\n      '<div class=\\'sp-sat\\'>',\r\n      '<div class=\\'sp-val\\'>',\r\n      '<div class=\\'sp-dragger\\'></div>',\r\n      '</div>',\r\n      '</div>',\r\n      '</div>',\r\n      '<div class=\\'sp-clear sp-clear-display\\'>',\r\n      '</div>',\r\n      '<div class=\\'sp-hue\\'>',\r\n      '<div class=\\'sp-slider\\'></div>',\r\n      gradientFix,\r\n      '</div>',\r\n      '</div>',\r\n      '<div class=\\'sp-alpha\\'><div class=\\'sp-alpha-inner\\'><div class=\\'sp-alpha-handle\\'></div></div></div>',\r\n      '</div>',\r\n      '<div class=\\'sp-input-container sp-cf\\'>',\r\n      '<input class=\\'sp-input\\' type=\\'text\\' spellcheck=\\'false\\'  />',\r\n      '</div>',\r\n      '<div class=\\'sp-initial sp-thumb sp-cf\\'></div>',\r\n      '<div class=\\'sp-button-container sp-cf\\'>',\r\n      '<button class=\\'sp-cancel\\' href=\\'#\\'></button>',\r\n      '<button type=\\'button\\' class=\\'sp-choose\\'></button>',\r\n      '</div>',\r\n      '</div>',\r\n      '</div>',\r\n    ].join('');\r\n  })();\r\n\r\nfunction paletteTemplate(p: ColorInput[], color: ColorInput, className: string, opts: any) {\r\n  const html = [];\r\n  for (let i = 0; i < p.length; i++) {\r\n    const current = p[i];\r\n    if (current) {\r\n      const tiny = tinycolor(current);\r\n      let c = tiny.toHsl().l < 0.5 ? 'sp-thumb-el sp-thumb-dark' : 'sp-thumb-el sp-thumb-light';\r\n      c += (tinycolor.equals(color, current)) ? ' sp-thumb-active' : '';\r\n      const formattedString = tiny.toString(opts.preferredFormat || 'rgb');\r\n      const swatchStyle = rgbaSupport ? ('background-color:' + tiny.toRgbString()) : 'filter:' + tiny.toFilter();\r\n      html.push('<span title=\"' + formattedString + '\" data-color=\"' + tiny.toRgbString() + '\" class=\"' + c + '\"><span class=\"sp-thumb-inner\" style=\"' + swatchStyle + ';\"></span></span>');\r\n    } else {\r\n      html.push('<span class=\"sp-thumb-el sp-clear-display\" ><span class=\"sp-clear-palette-only\" style=\"background-color: transparent;\"></span></span>');\r\n    }\r\n  }\r\n  return '<div class=\\'sp-cf ' + className + '\\'>' + html.join('') + '</div>';\r\n}\r\n\r\nfunction hideAll() {\r\n  for (let i = 0; i < spectrums.length; i++) {\r\n    if (spectrums[i]) {\r\n      spectrums[i].hide();\r\n    }\r\n  }\r\n}\r\n\r\nfunction instanceOptions(options: Partial<Options>, callbackContext: object): Options {\r\n  options.locale = options.locale || window.navigator.language;\r\n\r\n  if (typeof options.locale === 'string') {\r\n    if (options.locale) {\r\n      // handle locale like \"zh-TW\" to \"zh-tw\"\r\n      // handle locale like \"fr-FR\" to \"fr\"\r\n      let parts = options.locale.split('-')\r\n        .map((p) => p.toLowerCase());\r\n\r\n      if (parts[0] === parts[1]) {\r\n        parts = [parts[0]];\r\n      }\r\n\r\n      options.locale = parts.join('-');\r\n    }\r\n\r\n    if (options.locale !== 'en' && Spectrum.localization[options.locale]) {\r\n      options = Object.assign({}, options, Spectrum.localization[options.locale]);\r\n    }\r\n  } else {\r\n    options = Object.assign({}, options, options.locale);\r\n  }\r\n\r\n  const opts = Object.assign({}, defaultOpts, options) as Options;\r\n\r\n  opts.callbacks = {\r\n    'move': bind(opts.move as Function, callbackContext),\r\n    'change': bind(opts.change as Function, callbackContext),\r\n    'show': bind(opts.show as Function, callbackContext),\r\n    'hide': bind(opts.hide as Function, callbackContext),\r\n    'beforeShow': bind(opts.beforeShow as Function, callbackContext),\r\n  };\r\n\r\n  return opts;\r\n}\r\n\r\nfunction spectrum(element: HTMLElement, options: Partial<Options>) {\r\n\r\n  let opts = instanceOptions(options, element),\r\n    type = opts.type,\r\n    flat = (type === 'flat'),\r\n    showSelectionPalette = opts.showSelectionPalette,\r\n    localStorageKey = opts.localStorageKey,\r\n    theme = opts.theme,\r\n    callbacks = opts.callbacks,\r\n    resize = throttle(reflow, 10),\r\n    visible = false,\r\n    isDragging = false,\r\n    dragWidth = 0,\r\n    dragHeight = 0,\r\n    dragHelperHeight = 0,\r\n    slideHeight = 0,\r\n    slideWidth = 0,\r\n    alphaWidth = 0,\r\n    alphaSlideHelperWidth = 0,\r\n    slideHelperHeight = 0,\r\n    currentHue = 0,\r\n    currentSaturation = 0,\r\n    currentValue = 0,\r\n    currentAlpha = 1,\r\n    palette: any = [],\r\n    paletteArray: any[] = [],\r\n    paletteLookup: any = {},\r\n    selectionPalette = opts.selectionPalette.slice(0),\r\n    maxSelectionSize = opts.maxSelectionSize,\r\n    draggingClass = 'sp-dragging',\r\n    abortNextInputChange = false,\r\n    shiftMovementDirection: any = null;\r\n\r\n  const doc = element.ownerDocument;\r\n\r\n  const container = html(markup, doc) as HTMLElement;\r\n  container.classList.add(theme);\r\n  doc.body.appendChild(container);\r\n\r\n  let body = doc.body,\r\n    boundElement: HTMLElement | HTMLInputElement = element,\r\n    disabled = false,\r\n    pickerContainer = container.querySelector('.sp-picker-container') as HTMLElement,\r\n    dragger = container.querySelector('.sp-color') as HTMLElement,\r\n    dragHelper = container.querySelector('.sp-dragger') as HTMLElement,\r\n    slider = container.querySelector('.sp-hue') as HTMLElement,\r\n    slideHelper = container.querySelector('.sp-slider') as HTMLElement,\r\n    alphaSliderInner = container.querySelector('.sp-alpha-inner') as HTMLElement,\r\n    alphaSlider = container.querySelector('.sp-alpha') as HTMLElement,\r\n    alphaSlideHelper = container.querySelector('.sp-alpha-handle') as HTMLElement,\r\n    textInput = container.querySelector('.sp-input') as HTMLInputElement,\r\n    paletteContainer = container.querySelector('.sp-palette') as HTMLElement,\r\n    initialColorContainer = container.querySelector('.sp-initial') as HTMLElement,\r\n    cancelButton = container.querySelector('.sp-cancel') as HTMLElement,\r\n    clearButton = container.querySelector('.sp-clear') as HTMLElement,\r\n    chooseButton = container.querySelector('.sp-choose') as HTMLElement,\r\n    toggleButton = container.querySelector('.sp-palette-toggle') as HTMLElement,\r\n    isInput = boundElement.nodeName === 'INPUT',\r\n    isInputTypeColor = isInput && boundElement.getAttribute('type') === 'color',\r\n    shouldReplace = isInput && type === 'color',\r\n    replacer = (shouldReplace)\r\n      ? (() => {\r\n        addClass(replaceInput, theme);\r\n        addClass(replaceInput, opts.replacerClassName);\r\n        return replaceInput;\r\n      })()\r\n      : null,\r\n    offsetElement = (shouldReplace) ? replacer : boundElement,\r\n    previewElement = replacer?.querySelector('.sp-preview-inner') as HTMLElement,\r\n    initialColor = opts.color || (isInput && (boundElement as HTMLInputElement).value),\r\n    colorOnShow: ColorInput = '',\r\n    currentPreferredFormat = opts.preferredFormat,\r\n    clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange,\r\n    isEmpty = !initialColor,\r\n    allowEmpty = opts.allowEmpty;\r\n\r\n  // Element to be updated with the input color. Populated in initialize method\r\n  let originalInputContainer: HTMLSpanElement;\r\n  let colorizeElement: HTMLElement | null;\r\n  let colorizeElementInitialColor: string;\r\n  let colorizeElementInitialBackground: string;\r\n\r\n  //If there is a label for this element, when clicked on, show the colour picker\r\n  const thisId = boundElement.getAttribute('id') || '';\r\n  if (thisId !== undefined && thisId.length > 0) {\r\n    const labels = document.querySelectorAll(`label[for=\"${thisId}\"]`);\r\n\r\n    labels.forEach((label) => {\r\n      label.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n        show();\r\n        return false;\r\n      });\r\n    });\r\n  }\r\n\r\n  function applyOptions() {\r\n\r\n    if (opts.showPaletteOnly) {\r\n      opts.showPalette = true;\r\n    }\r\n\r\n    if (toggleButton) {\r\n      toggleButton.textContent = opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText;\r\n    }\r\n\r\n    if (opts.palette) {\r\n      palette = opts.palette.slice(0);\r\n      paletteArray = Array.isArray(palette[0]) ? palette : [palette];\r\n      paletteLookup = {};\r\n      for (let i = 0; i < paletteArray.length; i++) {\r\n        for (let j = 0; j < paletteArray[i].length; j++) {\r\n          const rgb = tinycolor(paletteArray[i][j]).toRgbString();\r\n          paletteLookup[rgb] = true;\r\n        }\r\n      }\r\n\r\n      // if showPaletteOnly and didn't set initialcolor\r\n      // set initialcolor to first palette\r\n      if (opts.showPaletteOnly && !initialColor) {\r\n        initialColor = (palette[0][0] === '') ? palette[0][0] : Object.keys(paletteLookup)[0];\r\n      }\r\n    }\r\n\r\n    toggleClass(container, 'sp-flat', flat);\r\n    toggleClass(container, 'sp-input-disabled', !opts.showInput);\r\n    toggleClass(container, 'sp-alpha-enabled', opts.showAlpha);\r\n    toggleClass(container, 'sp-clear-enabled', allowEmpty);\r\n    toggleClass(container, 'sp-buttons-disabled', !opts.showButtons);\r\n    toggleClass(container, 'sp-palette-buttons-disabled', !opts.togglePaletteOnly);\r\n    toggleClass(container, 'sp-palette-disabled', !opts.showPalette);\r\n    toggleClass(container, 'sp-palette-only', opts.showPaletteOnly);\r\n    toggleClass(container, 'sp-initial-disabled', !opts.showInitial);\r\n    addClass(container, opts.containerClassName);\r\n\r\n    reflow();\r\n  }\r\n\r\n  function offsetElementStart(e: Event) {\r\n    if (!disabled) {\r\n      show();\r\n    }\r\n\r\n    e.stopPropagation();\r\n    const target = e.target as HTMLElement;\r\n\r\n    if (!target.matches('input')) {\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  function initialize() {\r\n    applyOptions();\r\n    const inputStyle = window.getComputedStyle(boundElement);\r\n\r\n    originalInputContainer = html('<span class=\"sp-original-input-container\"></span>') as HTMLSpanElement;\r\n    ['margin'].forEach(function (cssProp: string) {\r\n      originalInputContainer.style[cssProp] = inputStyle[cssProp] || null;\r\n    });\r\n    // inline-flex by default, switching to flex if needed\r\n\r\n    if (inputStyle.display === 'block') {\r\n      originalInputContainer.style.display = 'flex';\r\n    }\r\n\r\n    if (shouldReplace) {\r\n      insertAfter(boundElement, replacer as Element);\r\n      boundElement.style.display = 'none';\r\n    } else if (type === 'text') {\r\n      addClass(originalInputContainer, 'sp-colorize-container');\r\n      addClass(boundElement, 'spectrum sp-colorize');\r\n      wrap(boundElement, originalInputContainer);\r\n    } else if (type === 'component') {\r\n      addClass(boundElement, 'spectrum');\r\n      wrap(boundElement, originalInputContainer);\r\n      const addOn = html(['<div class=\\'sp-colorize-container sp-add-on\\'>',\r\n        '<div class=\\'sp-colorize\\'></div> ',\r\n        '</div>'].join('')) as HTMLElement;\r\n\r\n      addOn.style.width = boundElement.offsetHeight + 'px';\r\n      addOn.style.borderRadius = inputStyle.borderRadius;\r\n      addOn.style.border = inputStyle.border;\r\n\r\n      boundElement.classList.add('with-add-on');\r\n\r\n      boundElement.before(addOn);\r\n    }\r\n\r\n    colorizeElement = boundElement.parentNode?.querySelector('.sp-colorize');\r\n    colorizeElementInitialColor = colorizeElement?.style.color || '';\r\n    colorizeElementInitialBackground = colorizeElement?.style.backgroundColor || '';\r\n\r\n    if (!allowEmpty) {\r\n      clearButton.style.display = 'none';\r\n    }\r\n\r\n    if (flat) {\r\n      boundElement.after(container);\r\n      boundElement.style.display = 'none';\r\n    } else {\r\n\r\n      let appendTo = opts.appendTo === 'parent' ? boundElement.parentElement : opts.appendTo;\r\n      if (!appendTo) {\r\n        appendTo = document.body;\r\n      }\r\n\r\n      if (typeof appendTo !== 'string') {\r\n        appendTo.append(container);\r\n      }\r\n    }\r\n\r\n    updateSelectionPaletteFromStorage();\r\n\r\n    offsetElement?.addEventListener('click', offsetElementStart);\r\n    offsetElement?.addEventListener('touchstart', offsetElementStart);\r\n\r\n    if (boundElement.matches(':disabled') || opts.disabled) {\r\n      disable();\r\n    }\r\n\r\n    // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\r\n    container.addEventListener('click', (e) => e.stopPropagation());\r\n\r\n    // Handle user typed input\r\n    [textInput, boundElement].forEach(function (input: HTMLElement | HTMLInputElement) {\r\n      if (!('value' in input)) {\r\n        return;\r\n      }\r\n\r\n      input.addEventListener('change', () => {\r\n        setFromTextInput(input.value);\r\n      });\r\n      input.addEventListener('paste', () => {\r\n        setTimeout(() => {\r\n          setFromTextInput(input.value);\r\n        }, 1);\r\n      });\r\n      input.addEventListener('keydown', (e) => {\r\n        if (e.keyCode === 13) {\r\n          setFromTextInput(input.value);\r\n          if (input === boundElement) {\r\n            hide();\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    cancelButton.textContent = opts.cancelText;\r\n    cancelButton.addEventListener('click', function (e) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      revert();\r\n      hide();\r\n    });\r\n\r\n    clearButton.setAttribute('title', opts.clearText);\r\n    clearButton.addEventListener('click', function (e) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      isEmpty = true;\r\n      move();\r\n\r\n      if (flat) {\r\n        //for the flat style, this is a change event\r\n        updateOriginalInput(true);\r\n      }\r\n    });\r\n\r\n    chooseButton.textContent = opts.chooseText;\r\n    chooseButton.addEventListener('click', e => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      // if (IE && textInput.matches(':focus')) {\r\n      //   textInput.dispatchEvent(new CustomEvent('change'));\r\n      // }\r\n\r\n      if (isValid()) {\r\n        updateOriginalInput(true);\r\n        hide();\r\n      }\r\n    });\r\n\r\n    toggleButton.textContent = opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText;\r\n    toggleButton.addEventListener('click', e => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      opts.showPaletteOnly = !opts.showPaletteOnly;\r\n\r\n      // To make sure the Picker area is drawn on the right, next to the\r\n      // Palette area (and not below the palette), first move the Palette\r\n      // to the left to make space for the picker, plus 5px extra.\r\n      // The 'applyOptions' function puts the whole container back into place\r\n      // and takes care of the button-text and the sp-palette-only CSS class.\r\n      if (!opts.showPaletteOnly && !flat) {\r\n        container.style.left = '-=' + (outerWidthWithMargin(pickerContainer) + 5);\r\n      }\r\n      applyOptions();\r\n    });\r\n\r\n    draggable(alphaSlider, function (dragX, dragY, e) {\r\n      currentAlpha = (dragX / alphaWidth);\r\n      isEmpty = false;\r\n      if (e.shiftKey) {\r\n        currentAlpha = Math.round(currentAlpha * 10) / 10;\r\n      }\r\n\r\n      move();\r\n    }, dragStart, dragStop);\r\n\r\n    draggable(slider, function (dragX, dragY) {\r\n      currentHue = dragY / slideHeight;\r\n      isEmpty = false;\r\n      if (!opts.showAlpha) {\r\n        currentAlpha = 1;\r\n      }\r\n      move();\r\n    }, dragStart, dragStop);\r\n\r\n    draggable(dragger, function (dragX, dragY, e) {\r\n\r\n      // shift+drag should snap the movement to either the x or y axis.\r\n      if (!e.shiftKey) {\r\n        shiftMovementDirection = null;\r\n      } else if (!shiftMovementDirection) {\r\n        const oldDragX = currentSaturation * dragWidth;\r\n        const oldDragY = dragHeight - (currentValue * dragHeight);\r\n        const furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\r\n\r\n        shiftMovementDirection = furtherFromX ? 'x' : 'y';\r\n      }\r\n\r\n      const setSaturation = !shiftMovementDirection || shiftMovementDirection === 'x';\r\n      const setValue = !shiftMovementDirection || shiftMovementDirection === 'y';\r\n\r\n      if (setSaturation) {\r\n        currentSaturation = (dragX / dragWidth);\r\n      }\r\n      if (setValue) {\r\n        currentValue = ((dragHeight - dragY) / dragHeight);\r\n      }\r\n\r\n      isEmpty = false;\r\n      if (!opts.showAlpha) {\r\n        currentAlpha = 1;\r\n      }\r\n\r\n      move();\r\n\r\n    }, dragStart, dragStop);\r\n\r\n    if (!!initialColor) {\r\n      set(initialColor);\r\n\r\n      // In case color was black - update the preview UI and set the format\r\n      // since the set function will not run (default color is black).\r\n      updateUI();\r\n      currentPreferredFormat = tinycolor(initialColor).getFormat() as ColorFormat || opts.preferredFormat;\r\n      addColorToSelectionPalette(initialColor);\r\n    } else if (initialColor === '') {\r\n      set(initialColor);\r\n      updateUI();\r\n    } else {\r\n      updateUI();\r\n    }\r\n\r\n    if (flat) {\r\n      show();\r\n    }\r\n\r\n    function paletteElementClick(e: Event) {\r\n      // @ts-ignore\r\n      if (e.data && e.data.ignore) {\r\n        const el = (e.target as HTMLElement).closest('.sp-thumb-el') as HTMLElement | null;\r\n        set(el?.dataset?.color || '');\r\n        move();\r\n      } else {\r\n        const el = (e.target as HTMLElement).closest('.sp-thumb-el') as HTMLElement | null;\r\n        set(el?.dataset?.color || '');\r\n        move();\r\n\r\n        // If the picker is going to close immediately, a palette selection\r\n        // is a change.  Otherwise, it's a move only.\r\n        if (opts.hideAfterPaletteSelect) {\r\n          updateOriginalInput(true);\r\n          hide();\r\n        } else {\r\n          updateOriginalInput();\r\n        }\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    const paletteEvents = ['click', 'touchstart'];\r\n\r\n    for (const paletteEvent of paletteEvents) {\r\n      eventDelegate(paletteContainer, paletteEvent, '.sp-thumb-el', paletteElementClick);\r\n      eventDelegate(initialColorContainer, paletteEvent, '.sp-thumb-el:nth-child(1)', paletteElementClick, { ignore: true });\r\n    }\r\n  }\r\n\r\n  function updateSelectionPaletteFromStorage() {\r\n    if (localStorageKey) {\r\n      // Migrate old palettes over to new format.  May want to remove this eventually.\r\n      try {\r\n        const localStorage = window.localStorage;\r\n        const oldPalette = localStorage[localStorageKey].split(',#');\r\n        if (oldPalette.length > 1) {\r\n          delete localStorage[localStorageKey];\r\n\r\n          for (const c of oldPalette) {\r\n            addColorToSelectionPalette(c);\r\n          }\r\n        }\r\n      } catch (e) {\r\n      }\r\n\r\n      try {\r\n        selectionPalette = window.localStorage[localStorageKey].split(';');\r\n      } catch (e) {\r\n      }\r\n    }\r\n  }\r\n\r\n  function addColorToSelectionPalette(color: ColorInput) {\r\n    if (showSelectionPalette) {\r\n      const rgb = tinycolor(color).toRgbString();\r\n\r\n      if (!paletteLookup[rgb] && !selectionPalette.includes(rgb)) {\r\n        selectionPalette.push(rgb);\r\n        while (selectionPalette.length > maxSelectionSize) {\r\n          selectionPalette.shift();\r\n        }\r\n      }\r\n\r\n      if (localStorageKey) {\r\n        try {\r\n          window.localStorage[localStorageKey] = selectionPalette.join(';');\r\n        } catch (e) {\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function getUniqueSelectionPalette() {\r\n    var unique = [];\r\n    if (opts.showPalette) {\r\n      for (var i = 0; i < selectionPalette.length; i++) {\r\n        var rgb = tinycolor(selectionPalette[i]).toRgbString();\r\n\r\n        if (!paletteLookup[rgb]) {\r\n          unique.push(selectionPalette[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return unique.reverse().slice(0, opts.maxSelectionSize);\r\n  }\r\n\r\n  function drawPalette() {\r\n\r\n    const currentColor = get();\r\n\r\n    const html = paletteArray.map((palette, i) => {\r\n      return paletteTemplate(palette, currentColor, 'sp-palette-row sp-palette-row-' + i, opts);\r\n    });\r\n\r\n    updateSelectionPaletteFromStorage();\r\n\r\n    if (selectionPalette) {\r\n      html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, 'sp-palette-row sp-palette-row-selection', opts));\r\n    }\r\n\r\n    paletteContainer.innerHTML = html.join('');\r\n  }\r\n\r\n  function drawInitial() {\r\n    if (opts.showInitial) {\r\n      const initial = colorOnShow;\r\n      const current = get();\r\n      initialColorContainer.innerHTML = paletteTemplate([initial, current], current, 'sp-palette-row-initial', opts);\r\n    }\r\n  }\r\n\r\n  function dragStart() {\r\n    if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\r\n      reflow();\r\n    }\r\n    isDragging = true;\r\n    addClass(container, draggingClass);\r\n    shiftMovementDirection = null;\r\n\r\n    emit(boundElement, 'dragstart', { color: get() });\r\n  }\r\n\r\n  function dragStop() {\r\n    isDragging = false;\r\n    removeClass(container, draggingClass);\r\n    emit(boundElement, 'dragstop', { color: get() });\r\n  }\r\n\r\n  function setFromTextInput(value: string) {\r\n    if (abortNextInputChange) {\r\n      abortNextInputChange = false;\r\n      return;\r\n    }\r\n    if ((value === null || value === '') && allowEmpty) {\r\n      set('');\r\n      move();\r\n      updateOriginalInput();\r\n    } else {\r\n      const tiny = tinycolor(value);\r\n      if (tiny.isValid()) {\r\n        set(tiny);\r\n        move();\r\n        updateOriginalInput();\r\n      } else {\r\n        textInput.classList.add('sp-validation-error');\r\n      }\r\n    }\r\n  }\r\n\r\n  function toggle() {\r\n    if (visible) {\r\n      hide();\r\n    } else {\r\n      show();\r\n    }\r\n  }\r\n\r\n  function show() {\r\n    if (visible) {\r\n      reflow();\r\n      return;\r\n    }\r\n\r\n    const event = emit(boundElement, 'beforeShow', { color: get() });\r\n\r\n    if (callbacks.beforeShow(event) === false || event.defaultPrevented) {\r\n      return;\r\n    }\r\n\r\n    hideAll();\r\n    visible = true;\r\n\r\n    doc.addEventListener('keydown', onkeydown);\r\n    doc.addEventListener('click', clickout);\r\n    window.addEventListener('resize', resize);\r\n    replacer?.classList.add('sp-active');\r\n    container.classList.remove('sp-hidden');\r\n\r\n    reflow();\r\n    updateUI();\r\n\r\n    colorOnShow = get();\r\n\r\n    drawInitial();\r\n\r\n    const e = emit(boundElement, 'show', { color: colorOnShow });\r\n    callbacks.show(e);\r\n  }\r\n\r\n  function onkeydown(e: KeyboardEvent) {\r\n    // Close on ESC\r\n    if (e.keyCode === 27) {\r\n      hide();\r\n    }\r\n  }\r\n\r\n  function clickout(e: MouseEvent) {\r\n    // Return on right click.\r\n    if (e.button == 2) {\r\n      return;\r\n    }\r\n\r\n    // If a drag event was happening during the mouseup, don't hide\r\n    // on click.\r\n    if (isDragging) {\r\n      return;\r\n    }\r\n\r\n    if (clickoutFiresChange) {\r\n      updateOriginalInput(true);\r\n    } else {\r\n      revert();\r\n    }\r\n    hide();\r\n  }\r\n\r\n  function hide() {\r\n    // Return if hiding is unnecessary\r\n    if (!visible || flat) {\r\n      return;\r\n    }\r\n    visible = false;\r\n\r\n    doc.removeEventListener('keydown', onkeydown);\r\n    doc.removeEventListener('click', clickout);\r\n    window.removeEventListener('resize', resize);\r\n\r\n    replacer?.classList.remove('sp-active');\r\n    container.classList.add('sp-hidden');\r\n\r\n    const event = emit(boundElement, 'hide', { color: get() });\r\n    callbacks.hide(event);\r\n  }\r\n\r\n  function revert() {\r\n    set(colorOnShow, true);\r\n    updateOriginalInput(true);\r\n  }\r\n\r\n  function set(color: ColorInput, ignoreFormatChange: boolean = false) {\r\n    if (tinycolor.equals(color, get())) {\r\n      // Update UI just in case a validation error needs\r\n      // to be cleared.\r\n      updateUI();\r\n      return;\r\n    }\r\n\r\n    var newColor, newHsv;\r\n    if ((!color || color === undefined) && allowEmpty) {\r\n      isEmpty = true;\r\n    } else {\r\n      isEmpty = false;\r\n      newColor = tinycolor(color);\r\n      newHsv = newColor.toHsv();\r\n\r\n      currentHue = (newHsv.h % 360) / 360;\r\n      currentSaturation = newHsv.s;\r\n      currentValue = newHsv.v;\r\n      currentAlpha = newHsv.a;\r\n    }\r\n    updateUI();\r\n\r\n    if (newColor && newColor.isValid() && !ignoreFormatChange) {\r\n      currentPreferredFormat = opts.preferredFormat || newColor.getFormat() as ColorFormat;\r\n    }\r\n  }\r\n\r\n  function get(opts: any = {}): Instance | '' {\r\n    if (allowEmpty && isEmpty) {\r\n      return '';\r\n    }\r\n\r\n    return tinycolor.fromRatio({\r\n      h: currentHue,\r\n      s: currentSaturation,\r\n      v: currentValue,\r\n      a: Math.round(currentAlpha * 1000) / 1000,\r\n      // @ts-ignore\r\n    }, { format: opts.format || currentPreferredFormat });\r\n  }\r\n\r\n  function isValid() {\r\n    return !textInput.classList.contains('sp-validation-error');\r\n  }\r\n\r\n  function move() {\r\n    updateUI();\r\n\r\n    const event = emit(boundElement, 'move', { color: get() });\r\n    callbacks.move(event);\r\n  }\r\n\r\n  function updateUI() {\r\n\r\n    textInput.classList.remove('sp-validation-error');\r\n\r\n    updateHelperLocations();\r\n\r\n    // Update dragger background color (gradients take care of saturation and value).\r\n    const flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });\r\n    dragger.style.backgroundColor = flatColor.toHexString();\r\n\r\n    // Get a format that alpha will be included in (hex and names ignore alpha)\r\n    let format = currentPreferredFormat;\r\n    if (currentAlpha < 1 && !(currentAlpha === 0 && format === 'name')) {\r\n      if (format === 'hex' || format === 'hex3' || format === 'hex6' || format === 'name') {\r\n        format = 'rgb';\r\n      }\r\n    }\r\n\r\n    let realColor = get({ format }),\r\n      displayColor = '';\r\n\r\n    //reset background info for preview element\r\n    if (previewElement) {\r\n      previewElement.classList.remove('sp-clear-display');\r\n      previewElement.style.backgroundColor = 'transparent';\r\n    }\r\n\r\n    if (realColor === '') {\r\n      // Update the replaced elements background with icon indicating no color selection\r\n      previewElement?.classList.add('sp-clear-display');\r\n    } else {\r\n      const realHex = realColor.toHexString();\r\n      const realRgb = realColor.toRgbString();\r\n\r\n      if (previewElement) {\r\n        // Update the replaced elements background color (with actual selected color)\r\n        if (rgbaSupport || realColor.getAlpha() === 1) {\r\n          previewElement.style.backgroundColor = realRgb;\r\n        } else {\r\n          previewElement.style.backgroundColor = 'transparent';\r\n          previewElement.style.filter = realColor.toFilter();\r\n        }\r\n      }\r\n\r\n      if (opts.showAlpha) {\r\n        const rgb = realColor.toRgb();\r\n        rgb.a = 0;\r\n        const realAlpha = tinycolor(rgb).toRgbString();\r\n        const gradient = 'linear-gradient(left, ' + realAlpha + ', ' + realHex + ')';\r\n\r\n        if (IE) {\r\n          alphaSliderInner.style.filter = tinycolor(realAlpha).toFilter(/* { gradientType: 1 }, realHex */);\r\n        } else {\r\n          // alphaSliderInner.css('background', '-webkit-' + gradient);\r\n          // alphaSliderInner.css('background', '-moz-' + gradient);\r\n          // alphaSliderInner.css('background', '-ms-' + gradient);\r\n          // Use current syntax gradient on unprefixed property.\r\n          alphaSliderInner.style.background = `linear-gradient(to right, ${realAlpha}, ${realHex})`;\r\n        }\r\n      }\r\n\r\n      displayColor = realColor.toString(format);\r\n    }\r\n\r\n    // Update the text entry input as it changes happen\r\n    if (opts.showInput) {\r\n      textInput.value = displayColor;\r\n    }\r\n    (boundElement as HTMLInputElement).value = displayColor;\r\n    if (opts.type == 'text' || opts.type == 'component') {\r\n      const color = realColor;\r\n      if (color && colorizeElement) {\r\n        const textColor = (color.isLight() || color.getAlpha() < 0.4) ? 'black' : 'white';\r\n        colorizeElement.style.backgroundColor = color.toRgbString();\r\n        colorizeElement.style.color = textColor;\r\n      } else {\r\n        colorizeElement.style.backgroundColor = colorizeElementInitialBackground;\r\n        colorizeElement.style.color = colorizeElementInitialColor;\r\n      }\r\n    }\r\n\r\n    if (opts.showPalette) {\r\n      drawPalette();\r\n    }\r\n\r\n    drawInitial();\r\n  }\r\n\r\n  function updateHelperLocations() {\r\n    if (allowEmpty && isEmpty) {\r\n      //if selected color is empty, hide the helpers\r\n      alphaSlideHelper.style.display = 'none';\r\n      slideHelper.style.display = 'none';\r\n      dragHelper.style.display = 'none';\r\n    } else {\r\n      //make sure helpers are visible\r\n      alphaSlideHelper.style.display = 'block';\r\n      slideHelper.style.display = 'block';\r\n      dragHelper.style.display = 'block';\r\n\r\n      // Where to show the little circle in that displays your current selected color\r\n      let dragX = currentSaturation * dragWidth;\r\n      let dragY = dragHeight - (currentValue * dragHeight);\r\n      dragX = Math.max(\r\n        -dragHelperHeight,\r\n        Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight),\r\n      );\r\n      dragY = Math.max(\r\n        -dragHelperHeight,\r\n        Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight),\r\n      );\r\n      dragHelper.style.top = dragY + 'px';\r\n      dragHelper.style.left = dragX + 'px';\r\n\r\n      const alphaX = currentAlpha * alphaWidth;\r\n      alphaSlideHelper.style.left = (alphaX - (alphaSlideHelperWidth / 2)) + 'px';\r\n\r\n      // Where to show the bar that displays your current selected hue\r\n      const slideY = (currentHue) * slideHeight;\r\n      slideHelper.style.top = (slideY - slideHelperHeight) + 'px';\r\n    }\r\n  }\r\n\r\n  function updateOriginalInput(fireCallback = false) {\r\n    let color = get(),\r\n      displayColor = '',\r\n      hasChanged = !tinycolor.equals(color, colorOnShow);\r\n\r\n    if (color) {\r\n      displayColor = color.toString(currentPreferredFormat);\r\n      // Update the selection palette with the current color\r\n      addColorToSelectionPalette(color);\r\n    }\r\n\r\n    if (fireCallback && hasChanged) {\r\n      // we trigger the change event or input, but the input change event is also binded\r\n      // to some spectrum processing, that we do no need\r\n      abortNextInputChange = true;\r\n      const event = emit(boundElement, 'change', { color });\r\n      callbacks.change(event);\r\n    }\r\n  }\r\n\r\n  function reflow() {\r\n    if (!visible) {\r\n      return; // Calculations would be useless and wouldn't be reliable anyways\r\n    }\r\n\r\n    dragWidth = dragger.getBoundingClientRect().width;\r\n    dragHeight = dragger.getBoundingClientRect().height;\r\n\r\n    dragHelperHeight = dragHelper.getBoundingClientRect().height;\r\n    slideWidth = slider.getBoundingClientRect().width;\r\n    slideHeight = slider.getBoundingClientRect().height;\r\n    slideHelperHeight = slideHelper.getBoundingClientRect().height;\r\n    alphaWidth = alphaSlider.getBoundingClientRect().width;\r\n    alphaSlideHelperWidth = alphaSlideHelper.getBoundingClientRect().width;\r\n\r\n    if (!flat) {\r\n      container.style.position = 'absolute';\r\n\r\n      if (opts.offset) {\r\n        setElementOffset(container, opts.offset);\r\n      } else {\r\n        setElementOffset(container, getOffset(container, offsetElement as HTMLElement));\r\n      }\r\n    }\r\n\r\n    updateHelperLocations();\r\n\r\n    if (opts.showPalette) {\r\n      drawPalette();\r\n    }\r\n\r\n    emit(boundElement, 'reflow');\r\n  }\r\n\r\n  function destroy() {\r\n    boundElement.style.display = 'inline-block';\r\n    boundElement.classList.remove('spectrum', 'with-add-on', 'sp-colorize');\r\n    offsetElement.removeEventListener('click', offsetElementStart);\r\n    offsetElement.removeEventListener('touchstart', offsetElementStart);\r\n    container.remove();\r\n    replacer?.remove();\r\n    if (colorizeElement) {\r\n      colorizeElement.style.backgroundColor = colorizeElementInitialBackground;\r\n      colorizeElement.style.color = colorizeElementInitialColor;\r\n    }\r\n    const originalInputContainer = boundElement.closest('.sp-original-input-container');\r\n    if (originalInputContainer) {\r\n      originalInputContainer.after(boundElement);\r\n      originalInputContainer.remove();\r\n    }\r\n    spectrums[spect.id] = null;\r\n  }\r\n\r\n  function option(optionName: string | undefined = undefined, optionValue: any = undefined) {\r\n    if (optionName === undefined) {\r\n      return Object.assign({}, opts);\r\n    }\r\n    if (optionValue === undefined) {\r\n      return opts[optionName];\r\n    }\r\n\r\n    opts[optionName] = optionValue;\r\n\r\n    if (optionName === 'preferredFormat') {\r\n      currentPreferredFormat = opts.preferredFormat;\r\n    }\r\n    applyOptions();\r\n  }\r\n\r\n  function enable() {\r\n    disabled = false;\r\n    (boundElement as HTMLInputElement).disabled = false;\r\n    offsetElement.classList.remove('sp-disabled');\r\n  }\r\n\r\n  function disable() {\r\n    hide();\r\n    disabled = true;\r\n    (boundElement as HTMLInputElement).disabled = true;\r\n    offsetElement.classList.add('sp-disabled');\r\n  }\r\n\r\n  function setOffset(coord: OffsetCSSOptions) {\r\n    opts.offset = coord;\r\n    reflow();\r\n  }\r\n\r\n  initialize();\r\n\r\n  let spect = {\r\n    id: 0,\r\n    show: show,\r\n    hide: hide,\r\n    toggle: toggle,\r\n    reflow: reflow,\r\n    option: option,\r\n    enable: enable,\r\n    disable: disable,\r\n    offset: setOffset,\r\n    set: function (c: ColorInput) {\r\n      set(c);\r\n      updateOriginalInput();\r\n    },\r\n    get: get,\r\n    destroy: destroy,\r\n    container: container,\r\n  };\r\n\r\n  spect.id = spectrums.push(spect) - 1;\r\n\r\n  return spect;\r\n}\r\n\r\n/**\r\n * checkOffset - get the offset below/above and left/right element depending on screen position\r\n * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\r\n */\r\nfunction getOffset(picker: HTMLElement, input: HTMLElement) {\r\n  const extraY = 0;\r\n  const dpWidth = picker.offsetWidth;\r\n  const dpHeight = picker.offsetHeight;\r\n  const inputHeight = input.offsetHeight;\r\n  const doc = picker.ownerDocument;\r\n  const docElem = doc.documentElement;\r\n  const viewWidth = docElem.clientWidth + window.pageXOffset;\r\n  const viewHeight = docElem.clientHeight + window.pageYOffset;\r\n  const offset = getElementOffset(input);\r\n  let offsetLeft = offset.left;\r\n  let offsetTop = offset.top;\r\n\r\n  offsetTop += inputHeight;\r\n\r\n  offsetLeft -=\r\n    Math.min(offsetLeft, (offsetLeft + dpWidth > viewWidth && viewWidth > dpWidth) ?\r\n      Math.abs(offsetLeft + dpWidth - viewWidth) : 0);\r\n\r\n  offsetTop -=\r\n    Math.min(offsetTop, ((offsetTop + dpHeight > viewHeight && viewHeight > dpHeight) ?\r\n      Math.abs(dpHeight + inputHeight - extraY) : extraY));\r\n\r\n  return {\r\n    top: offsetTop,\r\n    // bottom: offset.bottom,\r\n    left: offsetLeft,\r\n    // right: offset.right,\r\n    // width: offset.width,\r\n    // height: offset.height\r\n  };\r\n}\r\n\r\n/**\r\n * noop - do nothing\r\n */\r\nfunction noop() {\r\n\r\n}\r\n\r\n/**\r\n * Create a function bound to a given object\r\n * Thanks to underscore.js\r\n */\r\nfunction bind(func: Function, obj: object) {\r\n  const slice = Array.prototype.slice;\r\n  const args = slice.call(arguments, 2);\r\n  return function () {\r\n    return func.apply(obj, args.concat(slice.call(arguments)));\r\n  };\r\n}\r\n\r\n/**\r\n * Lightweight drag helper.  Handles containment within the element, so that\r\n * when dragging, the x is within [0,element.width] and y is within [0,element.height]\r\n */\r\nfunction draggable(\r\n  element: HTMLElement,\r\n  onmove: (x: number, y: number, e: DragEvent) => void,\r\n  onstart: (x: number, y: number, e: DragEvent) => void,\r\n  onstop: (x: number, y: number, e: DragEvent) => void,\r\n) {\r\n  onmove = onmove || noop;\r\n  onstart = onstart || noop;\r\n  onstop = onstop || noop;\r\n  const doc = document;\r\n  let dragging = false;\r\n  let offset: OffsetCSSOptions = {};\r\n  let maxHeight = 0;\r\n  let maxWidth = 0;\r\n  const hasTouch = ('ontouchstart' in window);\r\n\r\n  const duringDragEvents: { [P in keyof ElementEventMap]?: Function; } = {};\r\n  duringDragEvents['selectstart'] = prevent;\r\n  duringDragEvents['dragstart'] = prevent;\r\n  duringDragEvents['touchmove'] = move;\r\n  duringDragEvents['mousemove'] = move;\r\n  duringDragEvents['touchend'] = stop;\r\n  duringDragEvents['mouseup'] = stop;\r\n\r\n  function prevent(e: Event) {\r\n    if (e.stopPropagation) {\r\n      e.stopPropagation();\r\n    }\r\n    if (e.preventDefault) {\r\n      e.preventDefault();\r\n    }\r\n    e.returnValue = false;\r\n  }\r\n\r\n  function move(e: TouchEvent | MouseEvent) {\r\n    if (dragging) {\r\n      // @ts-ignore\r\n      // Mouseup happened outside of window\r\n      if (IE && doc.documentMode < 9 && !e.button) {\r\n        return stop();\r\n      }\r\n\r\n      const t0 = 'touches' in e && e.touches[0];\r\n      const pageX = t0 && t0.pageX || (e as MouseEvent).pageX;\r\n      const pageY = t0 && t0.pageY || (e as MouseEvent).pageY;\r\n\r\n      const dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\r\n      const dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\r\n\r\n      if (hasTouch) {\r\n        // Stop scrolling in iOS\r\n        prevent(e);\r\n      }\r\n\r\n      onmove.apply(element, [dragX, dragY, e]);\r\n    }\r\n  }\r\n\r\n  function start(e: TouchEvent | MouseEvent) {\r\n    const rightclick = (e.which) ? (e.which == 3) : ((e as MouseEvent).button === 2);\r\n\r\n    if (!rightclick && !dragging) {\r\n      if (onstart.apply(element, arguments) !== false) {\r\n        dragging = true;\r\n        maxHeight = element.getBoundingClientRect().height;\r\n        maxWidth = element.getBoundingClientRect().width;\r\n        offset = getElementOffset(element);\r\n\r\n        for (const eventName in duringDragEvents) {\r\n          doc.addEventListener(eventName, duringDragEvents[eventName]);\r\n        }\r\n\r\n        doc.body.classList.add('sp-dragging');\r\n\r\n        move(e);\r\n\r\n        prevent(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  function stop() {\r\n    if (dragging) {\r\n      for (const eventName in duringDragEvents) {\r\n        doc.removeEventListener(eventName, duringDragEvents[eventName]);\r\n      }\r\n      doc.body.classList.remove('sp-dragging');\r\n\r\n      // Wait a tick before notifying observers to allow the click event\r\n      // to fire in Chrome.\r\n      setTimeout(function () {\r\n        onstop.apply(element, arguments);\r\n      }, 0);\r\n    }\r\n    dragging = false;\r\n  }\r\n\r\n  element.addEventListener('touchstart', start);\r\n  element.addEventListener('mousedown', start);\r\n}\r\n\r\nexport default class Spectrum {\r\n  private spectrum: any;\r\n  public ele: HTMLInputElement;\r\n  public options: Partial<Options>;\r\n  public eventListeners: { [event: string]: EventListener[] } = {};\r\n\r\n  static defaultOptions = defaultOpts;\r\n  static draggable = draggable;\r\n  static localization: { [locale: string]: SpLang } = {};\r\n  static palette: string[][] = [];\r\n\r\n  static create(selector: string | HTMLElement, options: Partial<Options> = {}): Spectrum {\r\n    const ele = this.wrap(selector);\r\n\r\n    if (!ele) {\r\n      let msg = 'Unable to find element';\r\n\r\n      if (typeof selector === 'string') {\r\n        msg += ' - Selector: ' + selector;\r\n      }\r\n      throw Error(msg);\r\n    }\r\n\r\n    return new this(ele, options);\r\n  }\r\n\r\n  static createIfExists(selector: string | HTMLElement, options: Partial<Options> = {}): Spectrum|null {\r\n    const ele = this.wrap(selector);\r\n\r\n    if (!ele) {\r\n      return null;\r\n    }\r\n\r\n    return new this(ele, options);\r\n  }\r\n\r\n  static getInstance(selector: string | HTMLElement, options: Partial<Options> = {}): Spectrum {\r\n    const ele = this.wrap(selector);\r\n\r\n    // @ts-ignore\r\n    return ele.__spectrum = ele.__spectrum || this.createIfExists(ele, options);\r\n  }\r\n\r\n  static hasInstance(selector: string | HTMLElement) {\r\n    const ele = this.wrap(selector);\r\n\r\n    // @ts-ignore\r\n    return ele.__spectrum !== undefined;\r\n  }\r\n\r\n  static createMultiple(\r\n    selector: string | NodeListOf<HTMLElement>,\r\n    options: Partial<Options> = {}\r\n  ) {\r\n    const instances: Spectrum[] = [];\r\n\r\n    this.wrapList(selector).forEach((ele) => {\r\n      instances.push(this.create(ele, options));\r\n    });\r\n\r\n    return instances;\r\n  }\r\n\r\n  static getInstanceMultiple(\r\n    selector: string | JQuery | NodeListOf<HTMLElement>,\r\n    options: Partial<Options> = {},\r\n  ) {\r\n    const instances: Spectrum[] = [];\r\n\r\n    this.wrapList(selector).forEach((ele) => {\r\n      instances.push(this.getInstance(ele, options));\r\n    });\r\n\r\n    return instances;\r\n  }\r\n\r\n  private static wrap(selector: string | JQuery | HTMLElement) {\r\n    if (typeof selector === 'string') {\r\n      return document.querySelector<HTMLElement>(selector);\r\n    } else if ((selector as JQuery).jquery) {\r\n      return selector[0];\r\n    } else {\r\n      return selector;\r\n    }\r\n  }\r\n\r\n  private static wrapList(selector: string | JQuery | NodeListOf<HTMLElement>): Array<HTMLElement> {\r\n    if (typeof selector === 'string') {\r\n      return Array.from(document.querySelectorAll<HTMLElement>(selector));\r\n    } else if ((selector as JQuery).jquery) {\r\n      return (selector as JQuery).toArray();\r\n    } else {\r\n      return Array.from(selector);\r\n    }\r\n  }\r\n\r\n  static locale(locale: string, localization: SpLang) {\r\n    this.localization[locale] = localization;\r\n    return this;\r\n  }\r\n\r\n  constructor(ele: HTMLInputElement, options: Partial<Options> = {}) {\r\n    this.spectrum = spectrum(ele, options);\r\n    this.ele = ele;\r\n    this.options = options;\r\n  }\r\n\r\n  get id(): number {\r\n    return this.spectrum.id;\r\n  }\r\n\r\n  get container(): HTMLElement {\r\n    // @ts-ignore\r\n    if (!this.ele.__spectrum) {\r\n      return this.ele;\r\n    }\r\n\r\n    return this.spectrum.container;\r\n  }\r\n\r\n  show() {\r\n    this.spectrum.show();\r\n    return this;\r\n  }\r\n\r\n  hide() {\r\n    this.spectrum.hide();\r\n    return this;\r\n  }\r\n\r\n  toggle() {\r\n    this.spectrum.toggle();\r\n    return this;\r\n  }\r\n\r\n  reflow() {\r\n    this.spectrum.reflow();\r\n    return this;\r\n  }\r\n\r\n  option(optionName: string | undefined = undefined, optionValue: any = undefined): any {\r\n    return this.spectrum.option(optionName, optionValue);\r\n  }\r\n\r\n  enable() {\r\n    this.spectrum.enable();\r\n    return this;\r\n  }\r\n\r\n  disable() {\r\n    this.spectrum.disable();\r\n    return this;\r\n  }\r\n\r\n  offset(coord: OffsetCSSOptions) {\r\n    this.spectrum.offset(coord);\r\n    return this;\r\n  }\r\n\r\n  set(color: ColorInput, ignoreFormatChange: boolean = false) {\r\n    this.spectrum.set(color, ignoreFormatChange);\r\n    return this;\r\n  }\r\n\r\n  get(): ColorInput {\r\n    return this.spectrum.get();\r\n  }\r\n\r\n  destroy() {\r\n    this.destroyInnerObject();\r\n    // @ts-ignore\r\n    delete this.ele.__spectrum;\r\n    return this;\r\n  }\r\n\r\n  rebuild(options?: Partial<Options>) {\r\n    this.destroyInnerObject();\r\n    if (options) {\r\n      this.options = Object.assign({}, this.options, options);\r\n    }\r\n    this.spectrum = spectrum(this.ele, this.options);\r\n    return this;\r\n  }\r\n\r\n  private destroyInnerObject() {\r\n    this.spectrum.destroy();\r\n    this.off();\r\n  }\r\n\r\n  listeners(eventName: string) {\r\n    return this.eventListeners[eventName] || [];\r\n  }\r\n\r\n  on(\r\n    eventName: string,\r\n    listener: SpListener,\r\n    options: AddEventListenerOptions|undefined = undefined\r\n  ): Function {\r\n    this.ele.addEventListener(eventName, listener, options);\r\n\r\n    this.eventListeners[eventName] = this.eventListeners[eventName] || [];\r\n\r\n    this.eventListeners[eventName].push(listener);\r\n\r\n    return () => {\r\n      this.off(eventName, listener);\r\n    };\r\n  }\r\n\r\n  once(\r\n    eventName: string,\r\n    listener: SpListener,\r\n    options: AddEventListenerOptions|undefined = undefined\r\n  ): Function {\r\n    const cancel = this.on(\r\n      eventName,\r\n      (e) => {\r\n        listener(e);\r\n\r\n        cancel();\r\n      },\r\n      options\r\n    );\r\n\r\n    return cancel;\r\n  }\r\n\r\n  off(eventName: string = undefined, listener: EventListener|SpListener|undefined = undefined) {\r\n    if (eventName && !this.eventListeners[eventName]) {\r\n      return;\r\n    }\r\n\r\n    if (!eventName) {\r\n      this.eventListeners = {};\r\n      return;\r\n    }\r\n\r\n    if (listener) {\r\n      this.eventListeners[eventName] = this.eventListeners[eventName]\r\n        .filter((l) => l === listener);\r\n\r\n      this.ele.removeEventListener(eventName, listener);\r\n    } else {\r\n      for (const listener of this.eventListeners[eventName]) {\r\n        this.ele.removeEventListener(eventName, listener);\r\n      }\r\n\r\n      this.eventListeners[eventName] = [];\r\n    }\r\n  }\r\n}\r\n\r\n// @ts-ignore\r\nconst $ = window.$;\r\n\r\nif ($) {\r\n  // @ts-ignore\r\n  $.fn.spectrum = function (action: string | undefined | Partial<Options> = undefined, ...args) {\r\n    if (typeof action === \"string\") {\r\n      let returnValue = this;\r\n      this.each(function () {\r\n        const spect = this.__spectrum;\r\n\r\n        if (spect) {\r\n          const method = spect[action];\r\n\r\n          if (!method) {\r\n            throw new Error(\"Spectrum: no such method: '\" + action + \"'\");\r\n          }\r\n\r\n          if (action === \"get\") {\r\n            returnValue = spect.get();\r\n          } else if (action === \"container\") {\r\n            returnValue = $(spect.container);\r\n          } else if (action === \"option\") {\r\n            returnValue = spect.option.apply(spect, args);\r\n          } else if (action === \"destroy\") {\r\n            spect.destroy();\r\n          } else {\r\n            spect[action](...args);\r\n          }\r\n        }\r\n      });\r\n\r\n      return returnValue;\r\n    }\r\n\r\n    // Initializing a new instance of spectrum\r\n    return this.each(function () {\r\n      const options: Options = $.extend({}, $(this).data(), action);\r\n      // Infer default type from input params and deprecated options\r\n      if (!$(this).is('input')) {\r\n        options.type = 'color';\r\n      } else if (options.type == \"flat\") {\r\n        options.type = 'flat';\r\n      } else if ($(this).attr('type') == 'color') {\r\n        options.type = 'color';\r\n      } else {\r\n        options.type = options.type || 'component';\r\n      }\r\n\r\n      if (Spectrum.hasInstance(this)) {\r\n        const sp = Spectrum.getInstance(this);\r\n\r\n        sp.options = options;\r\n        sp.rebuild();\r\n      } else {\r\n        Spectrum.getInstance(this, options);\r\n      }\r\n    });\r\n  };\r\n\r\n  $.fn.spectrum.load = true;\r\n  $.fn.spectrum.loadOpts = {};\r\n  $.fn.spectrum.draggable = draggable;\r\n  $.fn.spectrum.defaults = defaultOpts;\r\n  $.fn.spectrum.localization = Spectrum.localization;\r\n  $.fn.spectrum.palette = [];\r\n\r\n  $.fn.spectrum.processNativeColorInputs = function () {\r\n    const colorInputs = $(\"input[type=color]\");\r\n    if (colorInputs.length) {\r\n      colorInputs.spectrum({\r\n        preferredFormat: \"hex6\"\r\n      });\r\n    }\r\n  };\r\n}\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","trimLeft","trimRight","tinycolor","color","opts","this","rgb","r","g","b","a","s","v","l","ok","format","replace","toLowerCase","match","named","names","matchers","exec","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","String","substr","convertToPercentage","i","Math","floor","f","p","q","t","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","min","max","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","round","_format","_gradientType","gradientType","_ok","rgbToHsl","d","rgbToHsv","rgbToHex","allow3Char","hex","pad2","toString","charAt","join","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","polyad","number","isNaN","Error","result","step","push","splitcomplement","analogous","results","slices","part","ret","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","pow","setAlpha","value","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","fn","args","apply","concat","slice","arguments","_applyCombination","triad","tetrad","fromRatio","newColor","equals","color1","color2","random","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","level","size","toUpperCase","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","length","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","parseFloat","n","indexOf","isOnePointZero","processPercent","isPercentage","parseInt","abs","val","c","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","wrap","ele","wrapper","replaceWith","appendChild","html","doc","document","div","createElement","innerHTML","children","addClass","className","classes","split","filter","classList","add","removeClass","remove","toggleClass","state","undefined","toggle","emit","eventName","detail","event","CustomEvent","cancelable","bubbles","dispatchEvent","eventDelegate","selector","listener","payload","addEventListener","e","target","closest","data","assign","setElementOffset","elem","options","curPosition","curTop","curLeft","calculatePosition","position","style","curElem","props","curOffset","getElementOffset","curCSSTop","top","curCSSLeft","left","el","getBoundingClientRect","marginTop","marginLeft","getComputedStyle","getElementPosition","using","k","box","docElem","documentElement","window","pageYOffset","clientTop","pageXOffset","clientLeft","defaultOpts","beforeShow","noop","move","change","show","hide","type","showInput","allowEmpty","showButtons","clickoutFiresChange","showInitial","showPalette","showPaletteOnly","hideAfterPaletteSelect","togglePaletteOnly","showSelectionPalette","localStorageKey","appendTo","maxSelectionSize","locale","cancelText","chooseText","togglePaletteMoreText","togglePaletteLessText","clearText","noColorSelectedText","preferredFormat","containerClassName","replacerClassName","showAlpha","theme","palette","selectionPalette","disabled","offset","spectrums","IE","navigator","userAgent","rgbaSupport","contains","str","cssText","backgroundColor","replaceInput","markup","gradientFix","paletteTemplate","current","tiny","swatchStyle","spectrum","element","callbackContext","language","parts","map","Spectrum","localization","callbacks","bind","instanceOptions","flat","resize","func","wait","timeout","debounce","context","throttler","clearTimeout","setTimeout","throttle","reflow","visible","isDragging","dragWidth","dragHeight","dragHelperHeight","slideHeight","slideWidth","alphaWidth","alphaSlideHelperWidth","slideHelperHeight","currentHue","currentSaturation","currentValue","currentAlpha","paletteArray","paletteLookup","draggingClass","abortNextInputChange","shiftMovementDirection","ownerDocument","container","body","originalInputContainer","colorizeElement","colorizeElementInitialColor","colorizeElementInitialBackground","boundElement","pickerContainer","querySelector","dragger","dragHelper","slider","slideHelper","alphaSliderInner","alphaSlider","alphaSlideHelper","textInput","paletteContainer","initialColorContainer","cancelButton","clearButton","chooseButton","toggleButton","isInput","nodeName","shouldReplace","getAttribute","replacer","offsetElement","previewElement","initialColor","colorOnShow","currentPreferredFormat","isEmpty","thisId","applyOptions","textContent","Array","isArray","j","keys","offsetElementStart","stopPropagation","matches","preventDefault","updateSelectionPaletteFromStorage","localStorage","oldPalette","addColorToSelectionPalette","includes","shift","drawPalette","currentColor","unique","reverse","getUniqueSelectionPalette","drawInitial","initial","dragStart","dragStop","setFromTextInput","set","updateOriginalInput","defaultPrevented","hideAll","onkeydown","clickout","updateUI","keyCode","button","revert","removeEventListener","ignoreFormatChange","newHsv","updateHelperLocations","flatColor","realColor","displayColor","realHex","realRgb","realAlpha","background","textColor","display","dragX","dragY","alphaX","slideY","fireCallback","hasChanged","width","height","picker","input","dpWidth","offsetWidth","dpHeight","offsetHeight","inputHeight","viewWidth","clientWidth","viewHeight","clientHeight","offsetLeft","offsetTop","getOffset","disable","querySelectorAll","forEach","label","inputStyle","cssProp","existingNode","newNode","parentNode","insertBefore","nextSibling","insertAfter","addOn","borderRadius","border","before","after","parentElement","append","paletteElementClick","ignore","dataset","setAttribute","marginRight","outerWidthWithMargin","draggable","shiftKey","oldDragX","oldDragY","furtherFromX","paletteEvents","paletteEvent","initialize","spect","id","option","optionName","optionValue","enable","coord","destroy","onmove","onstart","onstop","dragging","maxHeight","maxWidth","hasTouch","duringDragEvents","prevent","returnValue","documentMode","stop","t0","touches","pageX","pageY","start","rightclick","which","static","msg","__spectrum","createIfExists","instances","wrapList","create","getInstance","jquery","from","toArray","constructor","eventListeners","destroyInnerObject","rebuild","off","listeners","on","once","cancel","$","action","each","extend","is","attr","hasInstance","sp","load","loadOpts","defaults","processNativeColorInputs","colorInputs"],"sourceRoot":""}